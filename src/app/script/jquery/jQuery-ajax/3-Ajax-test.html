<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>实例练习</title>
    <script src="MyAjax.js"></script>
    <!-- <script src="http://code.jquery.com/jquery-latest.js"></script> -->
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body {
            background-color: #f2f2f2;
        }

        .content_box {
            margin: 10% auto;
            width: 400px;
            background-color: #ffffff;
            box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.05);
            padding: 20px;
            border-radius: 8px;
        }

        #commodity_title {
            font-size: 24px;
            font-weight: bold;
        }

        #commodity_img {
            width: 400px;
            margin: 20px 0 16px 0;
        }

        #commodity_info {
            font-size: 16px;
            margin-bottom: 20px;
            margin-top: 12px;
            display: block;
            height: 24px;
        }

        .btn {
            width: 58px;
            height: 32px;
            font-size: 14px;
            margin-right: 12px;
            border: none;
            font-weight: bold;
            outline: none;
            border-radius: 4px;
        }

        .btn_normal {
            background-color: #f2f2f2;
            color: #333;
        }

        .btn_selected {
            background-color: #0DB0FF;
            color: #fff;
        }
    </style>
</head>

<body>
    <div class="content_box">
        <div class="commodity_box">
            <p id="commodity_title">商品标题</p>
            <img src="./images/Cnr.jpg" alt="" id="commodity_img">
            <p id="infobox">商品描述</p>
            <span id="commodity_info"></span>
        </div>
        <button name="nz" class="btn_normal btn">女装</button>
        <button name="bb" class="btn_normal btn">包包</button>
        <button name="tx" class="btn_normal btn">拖鞋</button>
    </div>
</body>
<!-- <script>
    window.onload = function () {
        var btn = document.getElementsByTagName('button');
        var commodity_title = document.getElementById('commodity_title');
        var commodity_img = document.getElementById('commodity_img');
        var commodity_info = document.getElementById('commodity_info');

        btn[0].onclick = function () {
            var arr = btn[1].className.split(' ');
            arr[arr.indexOf('btn_selected')] = 'btn_normal';
            btn[1].className = arr.join(' ');
            var arr = btn[2].className.split(' ');
            arr[arr.indexOf('btn_selected')] = 'btn_normal';
            btn[2].className = arr.join(' ');
            var arr = this.className.split(' ');
            arr[arr.indexOf('btn_normal')] = 'btn_selected';
            this.className = arr.join(' ');
            ajax({
                method: 'get',
                url: '3-Ajax-test.php',
                data: {
                    name: this.getAttribute('name')
                },
                timeout: 3000,
                success: function (xhr) {
                    var product = xhr.responseText;
                    product.split('|');
                    commodity_title.innerText = product.split('|')[0];
                    commodity_info.innerText = product.split('|')[1];
                },
                error: function (xhr) {
                    alert('请求失败');
                }
            });
        };
        btn[1].onclick = function () {
            var arr = btn[0].className.split(' ');
            arr[arr.indexOf('btn_selected')] = 'btn_normal';
            btn[0].className = arr.join(' ');
            var arr = btn[2].className.split(' ');
            arr[arr.indexOf('btn_selected')] = 'btn_normal';
            btn[2].className = arr.join(' ');
            var arr = this.className.split(' ');
            arr[arr.indexOf('btn_normal')] = 'btn_selected';
            this.className = arr.join(' ');
            ajax({
                method: 'get',
                url: '3-Ajax-test.php',
                data: {
                    name: this.getAttribute('name')
                },
                timeout: 3000,
                success: function (xhr) {
                    var product = xhr.responseText;
                    product.split('|');
                    commodity_title.innerText = product.split('|')[0];
                    commodity_info.innerText = product.split('|')[1];
                },
                error: function (xhr) {
                    alert('请求失败');
                }
            });
        };
        btn[2].onclick = function () {
            var arr = btn[0].className.split(' ');
            arr[arr.indexOf('btn_selected')] = 'btn_normal';
            btn[0].className = arr.join(' ');
            var arr = btn[1].className.split(' ');
            arr[arr.indexOf('btn_selected')] = 'btn_normal';
            btn[1].className = arr.join(' ');
            var arr = this.className.split(' ');
            arr[arr.indexOf('btn_normal')] = 'btn_selected';
            this.className = arr.join(' ');
            ajax({
                method: 'get',
                url: '3-Ajax-test.php',
                data: {
                    name: this.getAttribute('name')
                },
                timeout: 3000,
                success: function (xhr) {
                    var product = xhr.responseText;
                    product.split('|');
                    commodity_title.innerText = product.split('|')[0];
                    commodity_info.innerText = product.split('|')[1];
                },
                error: function (xhr) {
                    alert('请求失败');
                }
            });
        };
    }
</script> -->
<script>
    var btn = document.getElementsByTagName('button');
    btn[0].onclick = (function (param) {
        console.log('点击了');
        ajax({
            method: 'get',
            url: '3-Ajax-test.php',
            data: {
                'name': 'wanpan'
            },
            success: function (xhr) {
                var temp = xhr.responseText;
                var obj = JSON.parse(temp);
                console.log(obj)
            },
            error: function (xhr) {
                alert(xhr.status)
            }
        })
    })
</script>

</html>